<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Preparation & Exploration - ML Project</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <style>
        .content-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 3rem;
            border-radius: 1rem;
            margin: 2rem 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .data-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .raw-data, .clean-data {
            background: rgba(255, 255, 255, 0.03);
            padding: 2rem;
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Add these rules to make images responsive */
        .raw-data img, .clean-data img {
            width: 100%;  /* Makes image take full width of its container */
            height: auto; /* Maintains aspect ratio */
            display: block; /* Removes any extra space below the image */
            transition: transform 0.3s ease; /* This makes the zoom smooth */
        }

        .raw-data img:hover, .clean-data img:hover {
            transform: scale(1.05); /* Increases size by 5% on hover */
        }

        .visualization-section {
            margin: 4rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .select-container {
            margin: 2rem 0;
        }

        select {
            background: var(--accent);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        select:hover {
            transform: scale(1.05);
        }

        .plot-container {
            width: 70%;  /* Reduced from 100% */
            max-width: 800px;  /* Added max-width */
            margin: 2rem auto;  /* Changed to auto margin for centering */
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
            background: rgba(0, 0, 0, 0.2);
            padding: 1rem;
        }

        .plot-container img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 0.5rem;
        }

        .plot-description {
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .code-link {
            display: inline-block;
            margin: 1rem 0;
            padding: 0.8rem 1.5rem;
            background: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            transition: transform 0.3s ease;
        }

        .code-link:hover {
            transform: scale(1.05);
        }

        h2 {
            color: var(--secondary);
            margin: 3rem 0 1.5rem 0;
            font-size: 2.5rem;
        }

        h3 {
            color: var(--primary);
            margin: 2rem 0 1rem 0;
            font-size: 2rem;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin: 3rem 0;
        }

        .nav-button {
            padding: 1rem 2rem;
            background: var(--accent);
            border: none;
            border-radius: 1rem;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .nav-button:hover {
            transform: scale(1.1);
        }

        .text-centered{
            text-align: center;
        }

        a{
            color: var(--primary);
        }

        .sound-categories {
            font-size: 1.5rem;
            max-width: 800px;
            margin: 1rem auto;
            text-align: justify;
        }

    </style>
</head>
<body>
    <!-- <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="introduction.html">Introduction</a></li>
            <li><a href="data-exploration.html" class="active">Data Preparation & Exploration</a></li>
            <li><a href="unsupervised.html">Unsupervised Learning</a></li>
            <li><a href="supervised.html">Supervised Learning</a></li>
            <li><a href="conclusion.html">Conclusion</a></li>
            <li><a href="about.html">About Me</a></li>
        </ul>
    </nav> -->

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="introduction.html" class="active">Introduction</a></li>
            <li><a href="data-exploration.html">Data Preparation & Exploration</a></li>
            <li><a href="unsupervised.html">PCA</a></li>
            <li><a href="unsupervised.html">Clustering</a></li>
            <li><a href="unsupervised.html">ARM</a></li>
            <li><a href="supervised.html">Decision Trees</a></li>
            <li><a href="supervised.html">Naive Bayes</a></li>
            <li><a href="supervised.html">SVM</a></li>
            <li><a href="supervised.html">Regression</a></li>
            <li><a href="conclusion.html">Conclusion</a></li>
            <li><a href="about.html">About Me</a></li>
        </ul>
    </nav>

    <div class="content-container">
        <!-- Data Collection and Preparation -->
        <div class="content-section" data-aos="fade-up">
            <br><br><br>
            <h1>Data Preparation & Exploration</h1>
            
            <h2>Data Collection: Gathering Audio Data Using the Freesound API</h2>
            <p class="text-justified">For this project, a diverse set of environmental and everyday sounds was collected using the Freesound API, a public database of user-contributed audio recordings. 
                The API provides a structured way to search, filter, and retrieve metadata for various sound categories, making it an ideal source for curating a dataset for machine learning analysis.</p>
            <!-- <a href="#" class="code-link">View Raw Data</a> -->
            <h3 class="text-centered">Using the Freesound API</h3>
            <p class="text-justified">Accessing the Freesound API requires an API key, which can be obtained by signing up on the Freesound website. 
                The API enables users to search for sounds based on keywords and retrieve detailed metadata before downloading the corresponding audio files. 
                The data collection process began by querying the API for relevant sound clips and extracting their metadata, which was then used to facilitate audio file downloads.
                <a href="https://freesound.org/help/developers/" target="_blank">Get a freesound API here.</a>
            </p>
            <h3 class="text-centered">Selecting 20 Sound Categories</h3>
            <p class="text-justified">
                To ensure a balanced dataset covering a range of real-world sounds, 20 categories were carefully selected. 
                The selection process focused on sounds commonly found in various environments, including human, animal, instrumental, and environmental sounds. 
                Each category was chosen to provide clear, recognizable acoustic patterns that could be effectively analyzed and classified.
                <br>
                The final 20 categories in the dataset include:
                <ul class="sound-categories">
                    <li>Human-related sounds: applause, crowd_noise, laughter, speech</li>
                    <li>Animal sounds: birds, cat_meow, dog_bark</li>
                    <li>Instrumental sounds: drums, guitar, piano</li>    
                    <li>Environmental and urban sounds: rain_sounds, wind_sounds, thunder_sounds, traffic_sounds, train_sounds, sirens</li>
                    <li>Mechanical and impact sounds: car_horn, footsteps, fireworks, construction_noise</li>
                </ul>
            </p>
            <p class="text-justified">
                For consistency, the target was to collect 750 sound samples per category. 
                However, due to data limitations, only 687 car_horn sounds were available in the Freesound database.
            </p>
            <h3 class="text-centered">Retrieving Metadata and Downloading Audio Files</h3>
            <p class="text-justified">
                Before downloading the audio files, their metadata was first collected using the Freesound API.
                Check out the script to download audiofiles metadata using Freesound API 
                <a href="https://github.com/AnirudhKakati/sound-wave-analysis/blob/main/scripts/getting_metadata.py" target="_blank"> here.</a>
                Each API query returned a JSON file containing essential details for each sound, including: 
                <ul class="sound-categories">
                    <li>Sound ID</li>
                    <li>Name</li>
                    <li>Tags</li>
                    <li>Duration</li>
                    <li>Preview URL (link to download a short version of the sound)</li>
                    <li>License Information</li>
                </ul>
            <p class="text-justified"> The raw metadata JSON files can be found 
                <a href="https://github.com/AnirudhKakati/sound-wave-analysis/tree/main/audiofiles_metadata/json_files" target="_blank">here.</a>
            </p> 
            </p>
            <p class="text-justified">
                Once the metadata JSON files were obtained, the preview URLs provided in the metadata were used to download the audio files. 
                The downloads were executed in parallel using multi-threading to optimize efficiency and speed. 
                Check out the script to download audio files 
                <a href="https://github.com/AnirudhKakati/sound-wave-analysis/blob/main/scripts/getting_audiofiles.py" target="_blank">here.</a>
                The downloaded audio files are in .mp3 format. The downloaded raw audio files can be found  
                <a href="https://drive.google.com/drive/folders/1Nw9VAKk4MGyr95R4O1fodtEa8DFvYOl8" target="_blank">here.</a>
            </p>
            <p class="text-justified">
                The raw metadata json files and the raw audio files are shown below.
            </p>
            <div class="data-container">
                <div class="raw-data">
                    <h3>Raw Metadata JSON</h3>
                    <img src="images/dataexploration/rawjson.jpg" alt="Raw Data Sample">
                </div>
                <div class="clean-data">
                    <h3>Raw .mp3 Audio files</h3>
                    <img src="images/dataexploration/raw_audiofiles_mp3.jpg" alt="Cleaned Data Sample">
                </div>
            </div>

            <h2>Data Cleaning Process</h2>
            <p>Description of your data cleaning process...</p>
        </div>

        <!-- Data Exploration Visualizations -->
        <div class="content-section" data-aos="fade-up">
            <h2>Data Exploration</h2>

            <!-- MFCC Radial Plots -->
            <div class="visualization-section">
                <h3>MFCC Radial Plots</h3>
                <div class="select-container">
                    <select id="mfccCategory" onchange="updatePlot('mfcc', this.value)">
                        <!-- Categories will be populated via JavaScript -->
                    </select>
                </div>
                <div class="plot-container">
                    <img id="mfccPlot" src="plots/mfcc_radial/mfcc_radial_applause.png" alt="MFCC Radial Plot">
                </div>
                <div class="plot-description">
                    <p>Description of MFCC Radial Plot...</p>
                </div>
            </div>

            <!-- 3D Spectral Feature Plot -->
            <div class="visualization-section">
                <h3>3D Spectral Feature Plot</h3>
                <div class="plot-container">
                    <img src="plots/spectral_3d_plot/spectral_3d_plot.png" alt="3D Spectral Feature Plot">
                </div>
                <div class="plot-description">
                    <p>Description of 3D Spectral Plot...</p>
                </div>
            </div>

            <!-- Chroma Feature Heatmap -->
            <div class="visualization-section">
                <h3>Chroma Feature Heatmap</h3>
                <div class="plot-container">
                    <img src="plots/chroma_heatmap/chroma_heatmap.png" alt="Chroma Feature Heatmap">
                </div>
                <div class="plot-description">
                    <p>Description of Chroma Feature Heatmap...</p>
                </div>
            </div>

            <!-- Average Spectrograms -->
            <div class="visualization-section">
                <h3>Average Spectrograms</h3>
                <div class="select-container">
                    <select id="spectrogramCategory" onchange="updatePlot('spectrogram', this.value)">
                        <!-- Categories will be populated via JavaScript -->
                    </select>
                </div>
                <div class="plot-container">
                    <img id="spectrogramPlot" src="plots/average_spectogram/spectrogram_avg_applause.png" alt="Average Spectrogram">
                </div>
                <div class="plot-description">
                    <p>Description of Average Spectrograms...</p>
                </div>
            </div>

            <!-- Time-Series Plots of RMS Energy -->
            <div class="visualization-section">
                <h3>Time-Series Plots of RMS Energy</h3>
                <div class="select-container">
                    <select id="rmsCategory" onchange="updatePlot('rms', this.value)">
                        <!-- Categories will be populated via JavaScript -->
                    </select>
                </div>
                <div class="plot-container">
                    <img id="rmsPlot" src="plots/time_series_rms/time_series_rms_applause.png" alt="RMS Energy Plot">
                </div>
                <div class="plot-description">
                    <p>Description of RMS Energy Plots...</p>
                </div>
            </div>

            <!-- Zero-Crossing Rate Histograms -->
            <div class="visualization-section">
                <h3>Zero-Crossing Rate Histograms</h3>
                <div class="select-container">
                    <select id="zcrCategory" onchange="updatePlot('zcr', this.value)">
                        <!-- Categories will be populated via JavaScript -->
                    </select>
                </div>
                <div class="plot-container">
                    <img id="zcrPlot" src="plots/zcr_histogram/zcr_histogram_applause.png" alt="Zero-Crossing Rate Histogram">
                </div>
                <div class="plot-description">
                    <p>Description of Zero-Crossing Rate Histograms...</p>
                </div>
            </div>

            <!-- Feature Variability Plots -->
            <div class="visualization-section">
                <h3>Feature Variability Plots</h3>
                <div class="select-container">
                    <select id="featureType" onchange="updatePlot('feature', this.value)">
                        <!-- Features will be populated via JavaScript -->
                    </select>
                </div>
                <div class="plot-container">
                    <img id="featurePlot" src="plots/feature_variability/feature_variability_spectral_bandwidth.png" alt="Feature Variability Plot">
                </div>
                <div class="plot-description">
                    <p>Description of Feature Variability Plots...</p>
                </div>
            </div>
        </div>

        <div class="navigation-buttons">
            <button class="nav-button" onclick="location.href='introduction.html'">
                ← Back to Introduction
            </button>
            <button class="nav-button" onclick="location.href='unsupervised.html'">
                Next: Unsupervised Learning →
            </button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init();

        // Categories array
        // const categories = Array.from({length: 20}, (_, i) => i + 1);

        const categories = [
            'applause',
            'birds',
            'car_horn',
            'cat_meow',
            'construction_noise',
            'crowd_noise',
            'dog_bark',
            'drums',
            'fireworks',
            'footsteps',
            'guitar',
            'laughter',
            'piano',
            'rain_sounds',
            'sirens',
            'speech',
            'thunder_sounds',
            'traffic_sounds',
            'train_sounds',
            'wind_sounds'
        ];
        const features = ['spectral_bandwidth', 'rms_energy', 'spectral_centroid', 'zero_crossing_rate'];
        
        // Populate all dropdowns
        function populateDropdowns() {
            // Populate category dropdowns
            const categoryDropdowns = ['mfccCategory', 'spectrogramCategory', 'rmsCategory', 'zcrCategory'];
            categoryDropdowns.forEach(dropdownId => {
                const select = document.getElementById(dropdownId);
                select.innerHTML = '';
                
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.text = cat.replace(/_/g, ' ').toUpperCase();
                    select.appendChild(option);
                });
            });

            // Populate feature dropdown
            const featureSelect = document.getElementById('featureType');
            if (featureSelect) {
                featureSelect.innerHTML = '';
                features.forEach(feature => {
                    const option = document.createElement('option');
                    option.value = feature;
                    option.text = feature.replace(/_/g, ' ').toUpperCase();
                    featureSelect.appendChild(option);
                });
            }
        }

        // Update plot based on selection
        function updatePlot(plotType, value) {
            const plotMapping = {
                'mfcc': {
                    element: 'mfccPlot',
                    path: 'plots/mfcc_radial/mfcc_radial_'
                },
                'spectrogram': {
                    element: 'spectrogramPlot',
                    path: 'plots/average_spectogram/spectrogram_avg_'
                },
                'rms': {
                    element: 'rmsPlot',
                    path: 'plots/time_series_rms/time_series_rms_'
                },
                'zcr': {
                    element: 'zcrPlot',
                    path: 'plots/zcr_histogram/zcr_histogram_'
                },
                'feature': {
                    element: 'featurePlot',
                    path: 'plots/feature_variability/feature_variability_'
                }
            };

            const plot = plotMapping[plotType];
            if (plot) {
                const img = document.getElementById(plot.element);
                img.src = `${plot.path}${value}.png`;
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            populateDropdowns();
            AOS.init();
        });
    </script>
</body>
</html>